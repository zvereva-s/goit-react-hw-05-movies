(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[601,697],{931:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Z}});var n=r(1413),a=r(885),i=r(501),s=r(2791),u=r(4942),c=r(2007),o=r.n(c);function f(t){var e=t.onSubmit,r=t.initialState,i=(0,s.useState)({initialState:r}),c=(0,a.Z)(i,2),o=c[0],f=c[1],p=function(){f((0,n.Z)({},r))};return{state:o,setState:f,handleChange:function(t){var e=t.target,r=e.name,a=e.value,i=e.type,s=e.checked,c="checkbox"===i?s:a;f((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,u.Z)({},r,c))}))},handleSubmit:function(t){t.preventDefault(),e((0,n.Z)({},o)),p()}}}f.defaulProps={onSubmit:function(){},initialState:{}},f.propTypes={onSubmit:o().func.isRequired,initialState:o().object.isRequired};var p={search:""},l={wrapper:"moviesSearchForm_wrapper__1osyT",label:"moviesSearchForm_label__CyvSf",input:"moviesSearchForm_input__hHdVR",button:"moviesSearchForm_button__l60T1"},m=r(184);function d(t){var e=f({onSubmit:t.onSubmit,initialState:p}),r=e.state,n=e.handleChange,a=e.handleSubmit,i=r.search;return(0,m.jsx)("div",{className:l.wrapper,children:(0,m.jsxs)("form",{className:l.form,onSubmit:a,children:[(0,m.jsx)("input",{className:l.input,type:"text",name:"search",value:i,onChange:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0}),(0,m.jsx)("button",{className:l.button,type:"submit",children:"Search movie"})]})})}var h=d;d.defaultProps={onSubmit:function(){}};var v=r(3873),b=r(6304),_=r(8220),y=r(5612);var x=function(){var t=(0,s.useRef)(!0),e=(0,i.lr)(),r=(0,a.Z)(e,2),u=r[0],c=r[1],o=u.get("search"),f=(0,y.s)({getFetch:_.NV,array:[o],params:o,firstRender:t}),p=f.state,l=f.setState,d=p.items,x=p.loading;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h,{onSubmit:function(t){var e=t.search;c({search:e}),l((function(t){return(0,n.Z)((0,n.Z)({},t),{},{items:[]})}))}}),x&&(0,m.jsx)(b.default,{}),(0,m.jsx)(v.Z,{items:d})]})},g=r(6119);var Z=function(){return(0,m.jsx)("main",{children:(0,m.jsx)(g.Z,{children:(0,m.jsx)(x,{})})})}},6119:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n="container_container__7D7mb",a=r(184);var i=function(t){var e=t.children;return(0,a.jsx)("div",{className:n,children:e})}},6304:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});r(3158);var n=r(6373),a="loader_box__6R4dw",i=r(184);var s=function(){return(0,i.jsx)("div",{className:a,children:(0,i.jsx)(n.g4,{color:"grey",ariaLabel:"loading"})})}},3873:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var n=r(501),a=r(6871),i="moviesListItem_item__cq7Zn",s="moviesListItem_img__EPd9N",u=r(184);var c=function(t){var e=t.title,r=t.poster_path;return(0,u.jsxs)("li",{className:i,children:[(0,u.jsx)("img",{className:s,src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(r),alt:e,width:"150"}),(0,u.jsx)("h3",{children:e})]})},o="moviesList_list__ddhEG";function f(t){var e=t.items,r=(0,a.TH)(),i=e.map((function(t){var e=t.id,a=t.title,i=t.poster_path;return(0,u.jsx)("li",{children:(0,u.jsx)(n.rU,{to:"/movies/".concat(e),state:{from:r},children:(0,u.jsx)(c,{title:a,poster_path:i})})},e)}));return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("ul",{className:o,children:i})})}var p=f;f.defaultProps={items:[]}},5612:function(t,e,r){"use strict";r.d(e,{s:function(){return d}});var n=r(907);var a=r(181);function i(t){return function(t){if(Array.isArray(t))return(0,n.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,a.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=r(1413),u=r(5861),c=r(885),o=r(7757),f=r.n(o),p=r(2007),l=r.n(p),m=r(2791);function d(t){var e=t.getFetch,r=t.array,n=void 0===r?[]:r,a=t.params,o=t.firstRender,p=void 0===o?{}:o,l=(0,m.useState)({items:[],loading:!1,error:null}),d=(0,c.Z)(l,2),h=d[0],v=d[1];return(0,m.useEffect)((function(){function t(){return(t=(0,u.Z)(f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v((function(t){return(0,s.Z)((0,s.Z)({},t),{},{loading:!0})})),t.prev=1,t.next=4,e(a);case 4:r=t.sent,v((function(t){return(0,s.Z)((0,s.Z)({},t),{},{items:[].concat(i(t.items),i(r))})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),v((function(e){return(0,s.Z)((0,s.Z)({},e),{},{error:t.t0})}));case 11:return t.prev=11,v((function(t){return(0,s.Z)((0,s.Z)({},t),{},{loading:!1})})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})))).apply(this,arguments)}p.current?p.current=!1:function(){t.apply(this,arguments)}()}),i(n)),{state:h,setState:v}}d.defaultProps={getFetch:function(){},array:[],firstRender:{}},d.propTypes={getFetch:l().func.isRequired,array:l().array,params:l().string,firstRender:l().object}},8220:function(t,e,r){"use strict";r.d(e,{Df:function(){return c},M1:function(){return f},NV:function(){return l},TP:function(){return o},tx:function(){return p}});var n=r(5861),a=r(7757),i=r.n(a),s=r(4569),u=r.n(s)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"de419034fa7ae645a6c15de713b25b76"}}),c=function(){var t=(0,n.Z)(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("trending/movie/day",{params:{page:1}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,n.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e,"/credits"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("movie/".concat(e,"/reviews"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("search/movie",{params:{query:e}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},888:function(t,e,r){"use strict";var n=r(9047);function a(){}function i(){}i.resetWarningCache=a,t.exports=function(){function t(t,e,r,a,i,s){if(s!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},2007:function(t,e,r){t.exports=r(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=601.d84747d7.chunk.js.map